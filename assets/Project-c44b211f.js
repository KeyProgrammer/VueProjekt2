import{_ as E,e as u,c as s,a as i,f as p,w as h,v as _,g as f,n as g,F as T,r as k,o as n,h as x,t as m,p as y,d as L}from"./index-bf5e477e.js";const b={name:"Project",data(){return{toDoList:[],listElementObject:{text:"",complete:""},curretInputText:"",ElementToAdd:{text:""},errorMessage:"",error:!1}},methods:{loadListElement:function(){console.log("Pobrieranie Elementów z REST API"),u.get("https://render-app-appi.onrender.com/todo").then(t=>{if(t.status===200){let o=t.data;this.toDoList=o.map(d=>({...d,isEditing:!1}))}})},deleteToDoListElement:function(t){u.delete(`https://render-app-appi.onrender.com/todo/${t}`).then(o=>{o.status===200&&this.loadListElement()})},updateToDoListElement:function(t){u.put(`https://render-app-appi.onrender.com/todo/${t.id}`,t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (zaktualizowano element)"))})},addToDoListElement:function(t){u.post("https://render-app-appi.onrender.com/todo",t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (Dodano element)"))})},addElement:function(){console.log(this.ElementToAdd.text),this.ElementToAdd.text=this.ElementToAdd.text.trim(),this.ElementToAdd.text===""?(this.errorMessage="Project.errorMessage",this.error=!0):(this.errorMessage="",this.addToDoListElement(this.ElementToAdd),this.ElementToAdd.text="",this.error=!1)},toggleTodo:function(t){this.toDoList=this.toDoList.map(d=>d.id===t?{...d,complete:!d.complete}:{...d});const o=this.toDoList.filter(d=>d.id===t);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Zadanie zrobione)")},startEditing:function(t){this.curretInputText=t.text,t.isEditing=!0,this.$nextTick(()=>{const o=document.querySelector('input[name="editInput"]');o&&o.focus()})},stopEditing:function(t){if(t.isEditing=!1,t.text===""||t.text===this.curretInputText)t.text=this.curretInputText;else{const o=this.toDoList.filter(d=>d.id===t.id);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Edytuj treść)")}}},mounted(){this.loadListElement()}},c=t=>(y("data-v-9bee1f09"),t=t(),L(),t),v={class:"content"},D=["innerHTML"],j=["innerHTML"],C=["innerHTML"],M={class:"form"},P=["placeholder"],A=c(()=>i("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1)),I=[A],z=["id"],H=["onUpdate:modelValue","onClick"],V={key:1},w={key:0},O={key:1},S=["onUpdate:modelValue","onBlur","onKeyup"],B={class:"buttons"},U=["onClick"],K=c(()=>i("i",{class:"fas fa-edit"},null,-1)),F=[K],N=["onClick"],W=c(()=>i("i",{class:"fa fa-check","aria-hidden":"true"},null,-1)),q=[W],R=["onClick"],Z=c(()=>i("i",{class:"fas fa-trash"},null,-1)),$=[Z],G=["onClick"],J=c(()=>i("i",{class:"fa-solid fa-ban fa-sm"},null,-1)),Q=[J];function X(t,o,d,Y,l,a){return n(),s("main",v,[i("div",{class:"container-top",innerHTML:t.$t("Project.MvcDescription")},null,8,D),i("h1",{innerHTML:t.$t("Project.TitleOfProject")},null,8,j),l.errorMessage?(n(),s("span",{key:0,class:"errorText",innerHTML:t.$t("Project.errorMessage")},null,8,C)):p("",!0),i("div",M,[h(i("input",{placeholder:t.$t("Project.placeHolderText"),"onUpdate:modelValue":o[0]||(o[0]=e=>l.ElementToAdd.text=e),name:"todo",onKeyup:o[1]||(o[1]=f((...e)=>a.addElement&&a.addElement(...e),["enter"])),class:g({"form-input":!l.error,error:l.error})},null,42,P),[[_,l.ElementToAdd.text]]),i("button",{onClick:o[2]||(o[2]=(...e)=>a.addElement&&a.addElement(...e))},I)]),i("ul",null,[(n(!0),s(T,null,k(l.toDoList,e=>(n(),s("li",{id:e.id},[e.isEditing?p("",!0):h((n(),s("input",{key:0,type:"checkbox","onUpdate:modelValue":r=>e.complete=r,onClick:r=>a.toggleTodo(e.id)},null,8,H)),[[x,e.complete]]),e.isEditing?h((n(),s("input",{key:2,name:"editInput",type:"text","onUpdate:modelValue":r=>e.text=r,onBlur:r=>a.stopEditing(e),onKeyup:f(r=>a.stopEditing(e),["enter"])},null,40,S)),[[_,e.text]]):(n(),s("span",V,[e.complete?(n(),s("p",w,[i("s",null,m(e.text),1)])):(n(),s("p",O,m(e.text),1))])),i("div",B,[e.isEditing?(n(),s("button",{key:1,onClick:r=>a.stopEditing(e)},q,8,N)):(n(),s("button",{key:0,onClick:r=>a.startEditing(e)},F,8,U)),e.isEditing?(n(),s("button",{key:3,onClick:r=>a.stopEditing(e)},Q,8,G)):(n(),s("button",{key:2,onClick:r=>a.deleteToDoListElement(e.id)},$,8,R))])],8,z))),256))])])}const et=E(b,[["render",X],["__scopeId","data-v-9bee1f09"]]);export{et as default};
