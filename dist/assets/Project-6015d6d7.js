import{_ as E,e as u,c as n,a as s,w as h,v as p,f as _,n as f,F as g,r as T,o as i,g as k,h as x,t as m,p as y,d as L}from"./index-f6c4ff2b.js";const v={name:"Project",data(){return{toDoList:[],listElementObject:{text:"",complete:""},curretInputText:"",ElementToAdd:{text:""},errorMessage:"",error:!1}},methods:{loadListElement:function(){console.log("Pobrieranie Elementów z REST API"),u.get("https://render-app-appi.onrender.com/todo").then(t=>{if(t.status===200){let o=t.data;this.toDoList=o.map(d=>({...d,isEditing:!1}))}})},deleteToDoListElement:function(t){u.delete(`https://render-app-appi.onrender.com/todo/${t}`).then(o=>{o.status===200&&this.loadListElement()})},updateToDoListElement:function(t){u.put(`https://render-app-appi.onrender.com/todo/${t.id}`,t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (zaktualizowano element)"))})},addToDoListElement:function(t){u.post("https://render-app-appi.onrender.com/todo",t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (Dodano element)"))})},addElement:function(){console.log(this.ElementToAdd.text),this.ElementToAdd.text=this.ElementToAdd.text.trim(),this.ElementToAdd.text===""?(this.errorMessage=this.$t("Project.errorMessage"),this.error=!0):(this.errorMessage="",this.addToDoListElement(this.ElementToAdd),this.ElementToAdd.text="",this.error=!1)},toggleTodo:function(t){this.toDoList=this.toDoList.map(d=>d.id===t?{...d,complete:!d.complete}:{...d});const o=this.toDoList.filter(d=>d.id===t);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Zadanie zrobione)")},startEditing:function(t){this.curretInputText=t.text,t.isEditing=!0,this.$nextTick(()=>{const o=document.querySelector('input[name="editInput"]');o&&o.focus()})},stopEditing:function(t){if(t.isEditing=!1,t.text===""||t.text===this.curretInputText)t.text=this.curretInputText;else{const o=this.toDoList.filter(d=>d.id===t.id);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Edytuj treść)")}}},mounted(){this.loadListElement()}},c=t=>(y("data-v-8ea329d7"),t=t(),L(),t),b={class:"content"},D=["innerHTML"],j=["innerHTML"],C=["innerHTML"],M={class:"form"},A=["placeholder"],I=c(()=>s("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1)),P=[I],z=["id"],H=["onUpdate:modelValue","onClick"],V={key:1},w={key:0},O={key:1},S=["onUpdate:modelValue","onBlur","onKeyup"],B={class:"buttons"},U=["onClick"],K=c(()=>s("i",{class:"fas fa-edit"},null,-1)),F=[K],N=["onClick"],W=c(()=>s("i",{class:"fa fa-check","aria-hidden":"true"},null,-1)),q=[W],R=["onClick"],Z=c(()=>s("i",{class:"fas fa-trash"},null,-1)),$=[Z],G=["onClick"],J=c(()=>s("i",{class:"fa-solid fa-ban fa-sm"},null,-1)),Q=[J];function X(t,o,d,Y,r,a){return i(),n("main",b,[s("div",{class:"container-top",innerHTML:t.$t("Project.MvcDescription")},null,8,D),s("h1",{innerHTML:t.$t("Project.TitleOfProject")},null,8,j),s("div",{class:"errorText",innerHTML:r.errorMessage},null,8,C),s("div",M,[h(s("input",{placeholder:t.$t("Project.placeHolderText"),"onUpdate:modelValue":o[0]||(o[0]=e=>r.ElementToAdd.text=e),name:"todo",onKeyup:o[1]||(o[1]=_((...e)=>a.addElement&&a.addElement(...e),["enter"])),class:f({"form-input":!r.error,error:r.error})},null,42,A),[[p,r.ElementToAdd.text]]),s("button",{onClick:o[2]||(o[2]=(...e)=>a.addElement&&a.addElement(...e))},P)]),s("ul",null,[(i(!0),n(g,null,T(r.toDoList,e=>(i(),n("li",{id:e.id},[e.isEditing?x("",!0):h((i(),n("input",{key:0,type:"checkbox","onUpdate:modelValue":l=>e.complete=l,onClick:l=>a.toggleTodo(e.id)},null,8,H)),[[k,e.complete]]),e.isEditing?h((i(),n("input",{key:2,name:"editInput",type:"text","onUpdate:modelValue":l=>e.text=l,onBlur:l=>a.stopEditing(e),onKeyup:_(l=>a.stopEditing(e),["enter"])},null,40,S)),[[p,e.text]]):(i(),n("span",V,[e.complete?(i(),n("p",w,[s("s",null,m(e.text),1)])):(i(),n("p",O,m(e.text),1))])),s("div",B,[e.isEditing?(i(),n("button",{key:1,onClick:l=>a.stopEditing(e)},q,8,N)):(i(),n("button",{key:0,onClick:l=>a.startEditing(e)},F,8,U)),e.isEditing?(i(),n("button",{key:3,onClick:l=>a.stopEditing(e)},Q,8,G)):(i(),n("button",{key:2,onClick:l=>a.deleteToDoListElement(e.id)},$,8,R))])],8,z))),256))])])}const et=E(v,[["render",X],["__scopeId","data-v-8ea329d7"]]);export{et as default};
